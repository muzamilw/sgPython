#:kivy 1.9.0
#:import get_color_from_hex kivy.utils.get_color_from_hex
#import progressbar

<Ready>:
    canvas:
        Rectangle:
            pos: self.pos
            size: self.size
            source: "data//bg.jpg"

    # MDBackdrop:
    #     id: backdrop
    #     # on_open: home.opening_animation_backdrop_components(backdrop, backlayer)
    #     # on_close:
    #     #     backlayer.ids.screen_manager.current = "settings"
    #     #     home.closing_animation_backdrop_components(backdrop, backlayer)
    #     # left_action_items: [['menu', lambda x: self.open()]]
    #     title: "Instagram Status"
    #     header_text: "Menu:"    
   
    
    BoxLayout:
        orientation: 'vertical'
        size_hint_y: 1

        MDToolbar:
            title: "Instagram Status"
            elevation: 10
            type: "top"
            right_action_items: [["details", lambda x: root.showLog()],["home-outline", lambda x: root.navToHome()],["logout", lambda x: root.logoutConfirm()]]

        
        BoxLayout:
            orientation:'horizontal'
        
        
            BoxLayout: # ig logo and label
                orientation: 'horizontal' 
                size_hint: 0.5, None           

                Image:
                    source: "data//iglogo.png"
                    size_hint: 0.3, None
                    size: dp(60), dp(60)
                    pos_hint: {"center_y": .5}

                MDLabel:
                    font_style: 'H5'
                    theme_text_color: 'Primary'
                    size_hint: 0.7, None
                    text: ""
                    halign: 'left'
                    valign : 'center'
                    id: lblusername
           
            BoxLayout: #labels and start button
                orientation:'horizontal'
                size_hint: 0.5, None    
                    
                

                MDGridLayout:
                    size_hint: 0.5, None
                    orientation:'horizontal'
                    cols : 2
                    # canvas:
                    #     Color:
                    #         rgb: 1, 1, 1
                    #     BorderImage
                    #         pos: self.pos
                    #         size: self.size
                    #         source: 'myimage.png'
                    # md_bg_color: app.theme_cls.primary_color

            
                    MDGridLayout:
                        size_hint: 0.75, None
                        orientation:'horizontal'
                        cols : 2
                        spacing:10

                        MDLabel:
                            text: "Auto Start at"
                            id :lblAutoStart
                            font_size: '15dp'
                            size_hint: 0.6, 1
                            halign:"right"

                        MDRaisedButton:
                            text: "Start"
                            on_release: root.startBot()
                            id: btnStart
                            size_hint: 0.4, 0.05
                            os_hint: {'center_x': .5, 'center_y': .5}
                        
                        
                        
                        

                        MDLabel:
                            id: lblTotalTime
                            text: "Time Remaining :  0:00:00"
                            font_size: '15dp'
                            size_hint: 0.6, 1
                            halign:"right"
                           

                        MDRaisedButton:
                            text: "Stop"
                            on_release: root.stop()
                            id : btnStop
                            size_hint: 0.4, 0.1
                            pos_hint: {"center_x": .5}
                            md_bg_color: get_color_from_hex("#FF0000")
                            disabled : True

                    

                    MDGridLayout:
                        size_hint: 0.25, None
                        orientation:'horizontal'
                        cols : 2
                        spacing_left:20
        
                        MDLabel:
                            text : " "
                            size_hint: 0.2, None

                        CircularProgressBar:
                            # pos: 400, 100
                            id:pbar
                            widget_size: 100
        
        MDLabel:
           #spacer
            text: " "
            size_hint: 1, 0.1
            halign : 'center'

        MDGridLayout:
            cols: 4
            orientation: 'horizontal'
            padding: 20
            spacing: 10
            
            MDLabel:
                id: lblFollow
                text: "0 / 0"
                size_hint: 1, 0.8
                halign : 'center'
                font_style: 'H5'
            MDLabel:
                id: lblUnFollow
                text: "0 / 0"
                halign : 'center'
                font_style: 'H5'
               
            MDLabel:
                id: lblLike
                text: "0 / 0"
                halign : 'center'
                font_style: 'H5'
            MDLabel:
                id: lblStoryView
                text: "0 / 0"
                halign : 'center'
                font_style: 'H5'
        
            
            MDLabel:
                text: "F"
                size_hint: 1, 0.8
                halign : 'center'
               
            MDLabel:
                text: "U"
                halign : 'center'
                
                
            MDLabel:
                text: "L"
                halign : 'center'
                
                
            MDLabel:
                text: "S"
                halign : 'center'
                
           
           
            
            MDLabel:
                id: lblComments
                text: "0 / 0"
                halign : 'center'
                font_style: 'H5'
            MDLabel:
                text: " 0 / 0 "
                size_hint: 1, 0.8
                id: lblLikeExchange
                halign : 'center'
                font_style: 'H5'
            MDLabel:
                text: " 0 / 0 "
                size_hint: 1, 0.8
                id: lblFollowExchange
                halign : 'center'
                font_style: 'H5'
            MDLabel:
                id: lblCommentExchange
                text: " 0 / 0 "
                size_hint: 1, 0.8
                halign : 'center'
                font_style: 'H5'

            MDLabel:
                text: "C"
                halign : 'center'
                

            MDLabel:
                text: "LX"
                size_hint: 1, 0.8
                halign : 'center'
                
            MDLabel:
                text: "FX"
                halign : 'center'
                
                
            MDLabel:
                text: "CX"
                halign : 'center'
                
                
        BoxLayout:
            orientation: 'vertical'
            size_hint: 1, 0.2
            spacing:5
            # Line:
            #     width:1
                # rounded_rectangle: (self.pos[0] + 4, self.pos[1], self.width - 6, self.height - 4, 2)

            
        

        MDTextFieldRect:
            id:logLabel
            text: ""
            font_size: 16
            multiline:True
            opacity:0
        
   
